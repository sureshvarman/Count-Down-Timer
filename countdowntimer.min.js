(function(e){function t(t,n){function i(){startTime=new Date;endTime=r.endDateAndTime;var e=endTime.getTime()-startTime.getTime();var n=e/1e3;window["timerSeconds"]=Math.floor(n%60);window["timerSeconds"]=window["timerSeconds"]<10&&window["timerSeconds"]>-1?"0"+window["timerSeconds"]:window["timerSeconds"];n=n/60;window["timerMinutes"]=Math.floor(n%60);window["timerMinutes"]=window["timerMinutes"]<10&&window["timerMinutes"]>-1?"0"+window["timerMinutes"]:window["timerMinutes"];n=n/60;window["timerHour"]=Math.floor(n%24);window["timerHour"]=window["timerHour"]<10&&window["timerHour"]>-1?"0"+window["timerHour"]:window["timerHour"];window["timerDays"]=Math.floor(n/24);window["timerDays"]=window["timerDays"]<10&&window["timerDays"]>-1?"0"+window["timerDays"]:window["timerDays"];if(r.callbackBefore>0&&r.callbackBeforefunction!=null){s()}if(parseInt(window["timerDays"])>0||parseInt(window["timerHour"])>0||parseInt(window["timerMinutes"])>0||parseInt(window["timerSeconds"])>0){if(parseInt(window["timerDays"])>0||parseInt(window["timerDays"])<0){t.html(window["timerDays"]+r.Separator+window["timerHour"]+r.Separator+window["timerMinutes"]+r.Separator+window["timerSeconds"])}else{t.html(window["timerHour"]+r.Separator+window["timerMinutes"]+r.Separator+window["timerSeconds"])}}if(parseInt(window["timerDays"])<=0&&parseInt(window["timerHour"])<=0&&parseInt(window["timerMinutes"])<=0&&parseInt(window["timerSeconds"])<=0){if(!r.incremental){t.html("00:00:00:00")}else{window["timerDays"]+=1;window["timerHour"]+=1;window["timerMinutes"]+=1;window["timerSeconds"]+=1;var i=0-window["timerDays"];var o=0-window["timerHour"];var u=0-window["timerMinutes"];var a=0-window["timerSeconds"];i=i>0?i<10?"0"+i:i:i-0<10?"0"+(i-i):i-i;o=o>0?o<10?"0"+o:o:o-0<10?"0"+(o-o):o-o;u=u>0?u<10?"0"+u:u:u-0<10?"0"+(u-u):u-u;a=a>0?a<10?"0"+a:a:a-0<10?"0"+(a-a):a-a;if(i>0){t.html("+"+i+r.Separator+o+r.Separator+u+r.Separator+a)}else{t.html("+"+o+r.Separator+u+r.Separator+a)}}}if(parseInt(window["timerDays"])<=0&&parseInt(window["timerHour"])<=0&&parseInt(window["timerMinutes"])<=0&&parseInt(window["timerSeconds"])<=0){if(r.timeUp!=null){r.timeUp()}}}function s(){var e=r.callbackBefore;var t=0;var n=0;var i=0;var s=0;s=e%60;e/=60;i=Math.floor(e%60);e/=60;n=Math.floor(e%24);t=Math.floor(e/24);if(parseInt(window["timerDays"])==t&&parseInt(window["timerHour"])==n&&parseInt(window["timerMinutes"])==i&&parseInt(window["timerSeconds"])==s){r.callbackBeforefunction()}}var r=e.extend({},e.fn.timer.defaults,n);var o=setInterval(i,r.tickInterval*1e3)}e.fn.timer=function(n){return this.each(function(){t(e(this),n)})};e.fn.timer.defaults={endDateAndTime:null,Separator:":",tickInterval:1,callbackBefore:0,callbackBeforefunction:null,timeUp:null,incremental:false}})(jQuery)